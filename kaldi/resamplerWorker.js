!function(n){var e={};function t(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:r})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var a in n)t.d(r,a,function(e){return n[e]}.bind(null,a));return r},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="kaldi/",t(t.s=1)}([function(n,e,t){var r,a=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(n){var e,t=void 0!==(n=n||{})?n:{},a={};for(e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);var o,i=[],u="";u=self.location.href,r&&(u=r),u=0!==u.indexOf("blob:")?u.substr(0,u.lastIndexOf("/")+1):"",o=function(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)};var l,f,s=t.print||console.log.bind(console),c=t.printErr||console.warn.bind(console);for(e in a)a.hasOwnProperty(e)&&(t[e]=a[e]);a=null,t.arguments&&(i=t.arguments),t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(l=t.wasmBinary),t.noExitRuntime&&t.noExitRuntime,"object"!=typeof WebAssembly&&c("no native wasm support detected");var m=new WebAssembly.Table({initial:14,maximum:14,element:"anyfunc"}),p=!1;function d(n){var e,r=t["_"+n];return e="Cannot call unknown function "+n+", make sure it is exported",r||M("Assertion failed: "+e),r}var y,v,b,h,g="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function w(n,e,t){for(var r=e+t,a=e;n[a]&&!(a>=r);)++a;if(a-e>16&&n.subarray&&g)return g.decode(n.subarray(e,a));for(var o="";e<a;){var i=n[e++];if(128&i){var u=63&n[e++];if(192!=(224&i)){var l=63&n[e++];if((i=224==(240&i)?(15&i)<<12|u<<6|l:(7&i)<<18|u<<12|l<<6|63&n[e++])<65536)o+=String.fromCharCode(i);else{var f=i-65536;o+=String.fromCharCode(55296|f>>10,56320|1023&f)}}else o+=String.fromCharCode((31&i)<<6|u)}else o+=String.fromCharCode(i)}return o}function A(n,e){return n?w(b,n,e):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var _,R=t.INITIAL_MEMORY||16777216;function E(n){for(;n.length>0;){var e=n.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?t.dynCall_v(r):t.dynCall_vi(r,e.arg):r(void 0===e.arg?null:e.arg)}else e()}}(f=t.wasmMemory?t.wasmMemory:new WebAssembly.Memory({initial:R/65536,maximum:R/65536}))&&(y=f.buffer),R=y.byteLength,y=_=y,t.HEAP8=v=new Int8Array(_),t.HEAP16=new Int16Array(_),t.HEAP32=h=new Int32Array(_),t.HEAPU8=b=new Uint8Array(_),t.HEAPU16=new Uint16Array(_),t.HEAPU32=new Uint32Array(_),t.HEAPF32=new Float32Array(_),t.HEAPF64=new Float64Array(_),h[366148]=6707632;var I=[],S=[],T=[],k=[],O=!1,P=0,C=null,x=null;function M(n){throw t.onAbort&&t.onAbort(n),s(n+=""),c(n),p=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(n)}function W(n){return String.prototype.startsWith?n.startsWith("data:application/octet-stream;base64,"):0===n.indexOf("data:application/octet-stream;base64,")}t.preloadedImages={},t.preloadedAudios={};var H,F="resampleTo16bint.wasm";function U(){try{if(l)return new Uint8Array(l);if(o)return o(F);throw"both async and sync fetching of the wasm failed"}catch(n){M(n)}}W(F)||(H=F,F=t.locateFile?t.locateFile(H,u):u+H),S.push({func:function(){L()}});var j={mappings:{},buffers:[null,[],[]],printChar:function(n,e){var t=j.buffers[n];0===e||10===e?((1===n?s:c)(w(t,0)),t.length=0):t.push(e)},varargs:void 0,get:function(){return j.varargs+=4,h[j.varargs-4>>2]},getStr:function(n){return A(n)},get64:function(n,e){return n}},B={c:function(n,e,t){b.copyWithin(n,e,e+t)},d:function(n){M("OOM")},e:function(n){return 0},b:function(n,e,t,r,a){},a:function(n,e,t,r){for(var a=0,o=0;o<t;o++){for(var i=h[e+8*o>>2],u=h[e+(8*o+4)>>2],l=0;l<u;l++)j.printChar(n,b[i+l]);a+=u}return h[r>>2]=a,0},memory:f,table:m},D=function(){var n={a:B};function e(n,e){var r=n.exports;t.asm=r,function(n){if(P--,t.monitorRunDependencies&&t.monitorRunDependencies(P),0==P&&(null!==C&&(clearInterval(C),C=null),x)){var e=x;x=null,e()}}()}function r(n){e(n.instance)}function a(e){return(l||"function"!=typeof fetch?new Promise((function(n,e){n(U())})):fetch(F,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+F+"'";return n.arrayBuffer()})).catch((function(){return U()}))).then((function(e){return WebAssembly.instantiate(e,n)})).then(e,(function(n){c("failed to asynchronously prepare wasm: "+n),M(n)}))}if(P++,t.monitorRunDependencies&&t.monitorRunDependencies(P),t.instantiateWasm)try{return t.instantiateWasm(n,e)}catch(n){return c("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(l||"function"!=typeof WebAssembly.instantiateStreaming||W(F)||"function"!=typeof fetch)return a(r);fetch(F,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(r,(function(n){c("wasm streaming compile failed: "+n),c("falling back to ArrayBuffer instantiation"),a(r)}))}))}(),{}}();t.asm=D;var z,L=t.___wasm_call_ctors=function(){return(L=t.___wasm_call_ctors=t.asm.f).apply(null,arguments)},N=(t._init_converter=function(){return(t._init_converter=t.asm.g).apply(null,arguments)},t._resample=function(){return(t._resample=t.asm.h).apply(null,arguments)},t._malloc=function(){return(N=t._malloc=t.asm.i).apply(null,arguments)}),q=t._free=function(){return(q=t._free=t.asm.j).apply(null,arguments)},Y=(t._reset=function(){return(t._reset=t.asm.k).apply(null,arguments)},t._terminate=function(){return(t._terminate=t.asm.l).apply(null,arguments)},t.stackSave=function(){return(Y=t.stackSave=t.asm.m).apply(null,arguments)}),G=t.stackAlloc=function(){return(G=t.stackAlloc=t.asm.n).apply(null,arguments)},X=t.stackRestore=function(){return(X=t.stackRestore=t.asm.o).apply(null,arguments)};function $(n){function e(){z||(z=!0,t.calledRun=!0,p||(O=!0,E(S),E(T),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)n=t.postRun.shift(),k.unshift(n);var n;E(k)}()))}n=n||i,P>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)n=t.preRun.shift(),I.unshift(n);var n;E(I)}(),P>0||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e()))}if(t.dynCall_vi=function(){return(t.dynCall_vi=t.asm.p).apply(null,arguments)},t.asm=D,t.ccall=function(n,e,t,r,a){var o={string:function(n){var e=0;if(null!=n&&0!==n){var t=1+(n.length<<2);!function(n,e,t){!function(n,e,t,r){if(!(r>0))return 0;for(var a=t+r-1,o=0;o<n.length;++o){var i=n.charCodeAt(o);if(i>=55296&&i<=57343){var u=n.charCodeAt(++o);i=65536+((1023&i)<<10)|1023&u}if(i<=127){if(t>=a)break;e[t++]=i}else if(i<=2047){if(t+1>=a)break;e[t++]=192|i>>6,e[t++]=128|63&i}else if(i<=65535){if(t+2>=a)break;e[t++]=224|i>>12,e[t++]=128|i>>6&63,e[t++]=128|63&i}else{if(t+3>=a)break;e[t++]=240|i>>18,e[t++]=128|i>>12&63,e[t++]=128|i>>6&63,e[t++]=128|63&i}}e[t]=0}(n,b,e,t)}(n,e=G(t),t)}return e},array:function(n){var e=G(n.length);return function(n,e){v.set(n,e)}(n,e),e}},i=d(n),u=[],l=0;if(r)for(var f=0;f<r.length;f++){var s=o[t[f]];s?(0===l&&(l=Y()),u[f]=s(r[f])):u[f]=r[f]}var c=i.apply(null,u);return c=function(n){return"string"===e?A(n):"boolean"===e?Boolean(n):n}(c),0!==l&&X(l),c},t.then=function(n){if(z)n(t);else{var e=t.onRuntimeInitialized;t.onRuntimeInitialized=function(){e&&e(),n(t)}}return t},x=function n(){z||$(),z||(x=n)},t.run=$,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();function J(n){t._free(n.byteOffset)}return $(),function(){var n=null,e=0,r=0;function a(){if(n&&O){var e=n;n=null,e.forEach((function(n){onmessage(n)}))}}function o(){a(),n&&setTimeout(o,100)}onmessage=function(i){if(!O)return n||(n=[],setTimeout(o,100)),void n.push(i);a();var u=t["_"+i.data.funcName];if(!u)throw"invalid worker function to call: "+i.data.funcName;var l=i.data.data;l&&(l.byteLength||(l=new Uint8Array(l)),(!e||r<l.length)&&(e&&q(e),r=l.length,e=N(l.length)),b.set(l,e)),i.data.callbackId,l?u(e,l.length):u(0,0)}}(),t.init=()=>{const n=t.ccall("init_converter","number");return 0!==n&&console.log("ERROR: could not initialize converter for resampling"),n},t.resampleTo16bint=(n,e)=>{const r=function(n){const e=n.length*n.BYTES_PER_ELEMENT,r=t._malloc(e),a=new Float32Array(t.HEAPF32.buffer,r,e);return a.set(new Float32Array(n.buffer)),a}(n),a=function(n){const e=n.length*n.BYTES_PER_ELEMENT,r=t._malloc(e),a=new Int16Array(t.HEAP16.buffer,r,e);return a.set(new Int16Array(n.buffer)),a}(new Int16Array(n.length)),o=t.ccall("resample","number",["number","number","number","number"],[r.byteOffset,n.length,a.byteOffset,e]),i=new Int16Array(a.slice(0,o));return J(r),J(a),i},t.reset=()=>{0!==t.ccall("reset","number")&&console.log("ERROR: Could not reset converter")},t.terminate=()=>{0!==t.ccall("terminate","number")&&console.log("ERROR: Could not terminate converter")},n});n.exports=a},function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t.p+"resampleTo16bint.wasm";let i=()=>{},u=1/3;const l=a()({locateFile:n=>n.endsWith(".wasm")?o:n}),f={setConversionRatio:n=>(u=n.data.conversionRatio,u),resample:n=>i(n.data.buffer,u),reset:()=>(l.reset(),""),terminate:()=>(l.terminate(),close(),"")};onmessage=n=>{const{command:e}=n.data,t={command:e,ok:!0};e in f?t.value=f[e](n):(t.ok=!1,t.value=new Error(`Unknown command '${e}'`)),postMessage(t)},l.onRuntimeInitialized=()=>{l.init(),i=l.resampleTo16bint}}]);